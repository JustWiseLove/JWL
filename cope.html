<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>copedoc</title>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #FFD700 0%, #8B4513 100%);
            --card-bg: #F5F5F5;
            --gold: #FFD700;
            --brown: #5C4033;
            --gray: #333333;
            --shadow: 0 4px 12px rgba(0,0,0,0.15);
            --orange: #FF8C00;
            --dark-orange: #FF4500;
            --dark-gold: #DAA520;
            --saddle-brown: #8B4513;
            --light-gold: #FFE4B5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--bg-gradient);
            min-height: 100vh;
            color: var(--gray);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            background: var(--brown);
            padding: 15px;
            border-radius: 8px;
        }

        .header-img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 3.5rem;
            color: var(--gold);
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .tagline {
            font-size: 1.1rem;
            color: #E0E0E0;
            font-style: italic;
            margin-bottom: 4px;
        }

        .motto {
            font-size: 1.4rem;
            color: var(--gold);
            font-weight: 600;
        }

        .nav-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: var(--brown);
            color: #E0E0E0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: var(--gold);
            color: var(--gray);
        }

        .nav-btn.active {
            background: var(--gold);
            color: var(--gray);
        }

        .section {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.4rem;
            color: var(--brown);
            font-weight: 600;
            cursor: pointer;
        }

        .profile-section, .score-section, .intro-section, .search-section {
            display: none;
        }

        .profile-section.show, .score-section.show, .intro-section.show, .search-section.show {
            display: block;
        }

        .mission-content, .profile-edit, .about-content, .contact-form {
            display: none;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #D3D3D3;
        }

        .mission-content.show, .profile-edit.show, .about-content.show, .contact-form.show {
            display: block;
        }

        .mission-content h3, .about-content h3 {
            font-size: 1.2rem;
            color: var(--brown);
            margin-bottom: 12px;
        }

        .mission-content ul, .about-content ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-bottom: 16px;
        }

        .mission-content li, .about-content li {
            margin-bottom: 8px;
        }

        .profile-display {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .profile-edit label, .contact-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--brown);
        }

        .profile-edit input, .profile-edit textarea, .contact-form input, .contact-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 2px solid #D3D3D3;
            border-radius: 8px;
            font-size: 1rem;
        }

        .profile-edit button, .contact-form button {
            padding: 10px 20px;
            background: var(--brown);
            color: #E0E0E0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .profile-edit button:hover, .contact-form button:hover {
            background: var(--gold);
            color: var(--gray);
        }

        .profile-icon {
            font-size: 2rem;
        }

        .profile-username {
            font-weight: 600;
        }

        .profile-motto {
            font-style: italic;
        }

        .score-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .score-guide, .score-counter, .badges-earned, .badge-checklist {
            margin-bottom: 10px;
        }

        .score-guide ul {
            list-style-type: disc;
            margin-left: 20px;
        }

        .score-guide li {
            margin-bottom: 8px;
        }

        .badge-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .badge {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background: var(--gold);
            color: var(--gray);
            border-radius: 12px;
            font-size: 0.9rem;
            margin: 8px;
            text-align: center;
            min-height: 60px;
        }

        .badge.username { background: var(--gold); }
        .badge.motto { background: var(--dark-gold); }
        .badge.daily { background: var(--orange); }
        .badge.weekly { background: var(--dark-orange); }
        .badge.longEntry { background: var(--saddle-brown); }
        .badge.tagMaster { background: var(--light-gold); }
        .badge.searcher { background: var(--gold); }
        .badge.profileComplete { background: var(--dark-orange); }
        .badge.consistent { background: var(--dark-gold); }
        .badge.reflective { background: var(--orange); }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .checklist-item.completed::before {
            content: '‚úî';
            color: var(--brown);
            font-weight: bold;
        }

        .checklist-item:not(.completed)::before {
            content: '‚¨ú';
            font-size: 1.2rem;
        }

        .search-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 16px;
            border: 2px solid #D3D3D3;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-input::placeholder {
            color: #A9A9A9;
        }

        .search-results {
            margin-top: 16px;
        }

        .no-results {
            color: #666;
            font-style: italic;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .emoji-btn {
            font-size: 3.5rem;
            padding: 16px;
            border: 3px solid transparent;
            border-radius: 16px;
            background: #D3D3D3;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .emoji-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }

        .emoji-btn.selected {
            border-color: var(--brown);
            transform: scale(1.08);
            background: var(--gold);
        }

        .tags-container {
            max-height: 320px;
            min-height: 280px;
            overflow-y: auto;
            padding: 8px;
            border: 2px dashed #D3D3D3;
            border-radius: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            padding: 8px 14px;
            background: #D3D3D3;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .tag:hover {
            background: #B0B0B0;
        }

        .tag.selected {
            background: var(--brown);
            color: #E0E0E0;
        }

        .editor-toolbar {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .tool-btn {
            padding: 8px 12px;
            background: #D3D3D3;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            color: var(--gold);
            transition: 0.2s;
        }

        .tool-btn:hover, .tool-btn.active {
            background: var(--brown);
            color: #E0E0E0;
        }

        #journal {
            min-height: 200px;
            max-height: 400px;
            padding: 16px;
            border: 2px solid #D3D3D3;
            border-radius: 12px;
            outline: none;
            resize: vertical;
            font-size: 1rem;
            line-height: 1.7;
        }

        #journal:empty:before {
            content: 'Start writing here...';
            color: #A9A9A9;
            font-style: italic;
        }

        .submit-section {
            text-align: center;
            margin: 30px 0;
        }

        #submit-btn {
            padding: 14px 32px;
            font-size: 1.1rem;
            background: var(--brown);
            color: #E0E0E0;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        #submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        #submit-btn:disabled {
            background: #A9A9A9;
            cursor: not-allowed;
            transform: none;
        }

        .ai-response {
            margin-top: 20px;
            padding: 16px;
            background: #F5F5F5;
            border-left: 4px solid var(--brown);
            border-radius: 8px;
            font-style: italic;
            display: none;
        }

        .history {
            margin-top: 40px;
        }

        .entry-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: 0.2s;
        }

        .entry-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .entry-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .entry-emoji {
            font-size: 1.8rem;
        }

        .entry-mood {
            color: var(--brown);
        }

        .entry-preview {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .entry-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .entry-tag {
            background: var(--gold);
            color: var(--gray);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .entry-time {
            font-size: 0.8rem;
            color: #999;
        }

        .entry-full {
            display: none;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #D3D3D3;
        }

        .entry-full.show {
            display: block;
        }

        .entry-text {
            margin-bottom: 12px;
            line-height: 1.7;
        }

        .ai-full {
            background: #F5F5F5;
            padding: 12px;
            border-radius: 8px;
            font-style: italic;
            border-left: 3px solid var(--brown);
        }

        @media (max-width: 600px) {
            .emoji-grid, .badge-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            h1 {
                font-size: 2.8rem;
            }
            .container {
                padding: 12px;
            }
            .header-img {
                max-width: 80%;
            }
        }

        .thinking {
            text-align: center;
            padding: 20px;
            color: var(--brown);
            font-style: italic;
            display: none;
        }

        .intro-text {
            font-style: italic;
            color: #666;
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="rocks.PNG"><img src="rocks.PNG" alt="Sunset Rocks" class="header-img"></a>
            <h1>copedoc</h1>
            <p class="tagline">Feel. Reflect. Grow.</p>
            <div class="motto">Personal Writing Resource</div>
        </header>

        <div class="nav-bar">
            <button class="nav-btn active" id="posts-btn">Posts</button>
            <button class="nav-btn" id="score-btn">Score</button>
            <button class="nav-btn" id="profile-btn">Profile</button>
            <button class="nav-btn" id="search-btn">Search</button>
        </div>

        <div class="intro-section section" id="intro-section">
            <h2 class="section-title" id="mission-title">Mission Statement</h2>
            <div class="mission-content" id="mission-content">
                <h3>Emotional Wellness</h3>
                <p>Our mission is to inspire and empower individuals to navigate their emotional journeys through the transformative power of therapeutic journaling. We believe that documenting thoughts and feelings is a vital tool for fostering mental clarity, emotional resilience, and personal growth. By inviting users to write daily, reflect on their emotions, and explore the reasons behind their feelings, we provide a safe, structured space to cultivate inner peace and self-understanding.</p>
                <h3>Why Journaling Matters</h3>
                <p>Documenting emotions through writing is more than a creative outlet‚Äîit‚Äôs a scientifically supported practice that enhances well-being.</p>
                <p>Here are the key ways journaling benefits your mental and emotional health:</p>
                <ul>
                    <li>Clarity and Emotional Regulation: Writing about feelings helps individuals identify and process emotions, reducing overwhelm and promoting balance. Studies show that expressive writing enhances emotional clarity, enabling people to better understand and manage their moods.</li>
                    <li>Stress and Anxiety Reduction: Putting thoughts on paper acts as a release, lowering stress levels. Research indicates that regular journaling reduces cortisol, the stress hormone, helping individuals feel calmer and more in control.</li>
                    <li>Enhanced Self-Awareness: Journaling fosters a deeper connection to oneself. By reflecting on why emotions arise, individuals gain insights into their triggers and patterns, paving the way for personal growth and better decision-making.</li>
                    <li>Improved Mental Health: Consistent writing has been shown to alleviate symptoms of depression and anxiety. Studies demonstrate that expressive writing supports emotional healing, particularly for those processing trauma or challenges.</li>
                    <li>Physical Health Benefits: Documenting emotions can positively impact physical well-being. Research links journaling to strengthened immune function and reduced symptoms of stress-related conditions, contributing to overall health.</li>
                </ul>
                <p>Our platform encourages daily journaling to build a habit of self-reflection. By choosing how you feel, explaining why, and expanding on your thoughts through written entries, you take an active step toward emotional empowerment. Copedoc is here to guide you in documenting your journey, helping you find clarity, resilience, and peace‚Äîone entry at a time.</p>
                <p>Join us in embracing the therapeutic power of journaling to transform your emotional well-being.</p>
            </div>
        </div>

        <div class="profile-section" id="profile-section">
            <div class="section">
                <h2 class="section-title" id="profile-title">Your Profile</h2>
                <div class="profile-display">
                    <span class="profile-icon" id="profile-icon">üî•</span>
                    <div class="profile-username" id="profile-username">User</div>
                    <div class="profile-motto" id="profile-motto">Personal Writing Resource</div>
                </div>
                <div class="profile-edit" id="profile-edit">
                    <label for="edit-icon">Profile Icon</label>
                    <input type="text" id="edit-icon" placeholder="Enter emoji or icon" maxlength="2">
                    <label for="edit-username">Username</label>
                    <input type="text" id="edit-username" placeholder="Enter username">
                    <label for="edit-motto">Motto</label>
                    <input type="text" id="edit-motto" placeholder="Enter motto">
                    <label for="edit-reminder">Favorite Reminder</label>
                    <textarea id="edit-reminder" placeholder="Favorite Reminder"></textarea>
                    <label for="edit-goals">Personal Goals</label>
                    <textarea id="edit-goals" placeholder="Personal Goals"></textarea>
                    <button id="save-profile">Save Profile</button>
                </div>
            </div>
            <div class="section">
                <h2 class="section-title" id="about-title">About Us</h2>
                <div class="about-content" id="about-content">
                    <h3>About Us Page</h3>
                    <h3>Your Partner in Emotional and Spiritual Growth</h3>
                    <p>Welcome to Copedoc, a platform dedicated to helping individuals find emotional clarity and spiritual strength through the practice of therapeutic journaling. Our name, blending ‚Äúcope‚Äù and ‚Äúdocument,‚Äù reflects our core belief: writing down your thoughts and feelings is a powerful way to navigate life‚Äôs challenges and grow closer to your true self. We invite you to write daily, reflect on your emotions, and explore their causes, creating a path to healing and resilience.</p>
                    <p>At Copedoc, we see journaling as more than a habit‚Äîit‚Äôs a journey of self-discovery and emotional honesty. Our platform provides a simple, supportive space where you can choose how you feel, explain why, and express your thoughts through meaningful entries. This process not only fosters mental well-being but also aligns with timeless spiritual principles that encourage reflection, peace, and endurance.</p>
                    <h3>Our Spiritual Foundation</h3>
                    <p>We draw inspiration from biblical wisdom, which underscores the value of honest self-reflection and emotional expression. Scripture encourages us to examine our hearts and find peace through thoughtful contemplation:</p>
                    <ul>
                        <li>‚ÄúBe agitated, but do not sin. Have your say in your heart, upon your bed, and keep silent.‚Äù This guidance highlights the importance of privately processing emotions, a practice journaling supports by giving you a space to express and understand your feelings.</li>
                        <li>‚ÄúDo not be anxious over anything, but in everything by prayer and supplication along with thanksgiving, let your petitions be made known to God; and the peace of God that surpasses all understanding will guard your hearts and your mental powers.‚Äù Journaling allows you to lay your worries down, fostering peace and protecting your heart and mind.</li>
                        <li>‚ÄúConsider it all joy, my brothers, when you meet with various trials, knowing as you do that this tested quality of your faith produces endurance.‚Äù Writing about challenges helps you find meaning in difficulties, building resilience and spiritual strength.</li>
                        <li>‚ÄúLet us consider one another so as to incite to love and fine works.‚Äù Daily journaling cultivates a habit of self-care, empowering you to support others with love and compassion.</li>
                    </ul>
                    <p>At Copedoc, we believe that documenting your emotions is a step toward emotional and spiritual growth. Our platform is designed to be your trusted companion, offering a space to reflect, heal, and grow. Whether you‚Äôre seeking to manage stress, gain self-awareness, or find peace, we‚Äôre here to support you every day.</p>
                    <p>Join the Copedoc community and start your journaling journey today. Together, let‚Äôs write the path to a stronger, more peaceful you.</p>
                </div>
            </div>
            <div class="section">
                <h2 class="section-title" id="contact-title">Contact Us</h2>
                <div class="contact-form" id="contact-form">
                    <label for="contact-subject">Subject</label>
                    <input type="text" id="contact-subject" placeholder="Enter subject">
                    <label for="contact-message">Tell Us More</label>
                    <textarea id="contact-message" placeholder="Your message"></textarea>
                    <button id="send-contact">Send</button>
                </div>
            </div>
        </div>

        <div class="score-section section" id="score-section">
            <h2 class="section-title">Your Score & Badges</h2>
            <div class="score-content">
                <div class="score-counter">
                    <h3>Your Score</h3>
                    <div>Total Points: <span id="total-points">0</span></div>
                    <div>Streak: <span id="streak">0</span> day(s)</div>
                    <div>Time Left to Post: <span id="streak-timer">Calculating...</span></div>
                </div>
                <div class="badges-earned">
                    <h3>Badges Earned</h3>
                    <div class="badge-grid" id="badges">None</div>
                </div>
                <div class="badge-checklist">
                    <h3>Badge Checklist</h3>
                    <div id="checklist">
                        <div class="checklist-item" id="check-username">Change Username</div>
                        <div class="checklist-item" id="check-motto">Change Motto</div>
                        <div class="checklist-item" id="check-daily">Post Daily</div>
                        <div class="checklist-item" id="check-weekly">Post 7 Days in a Row</div>
                        <div class="checklist-item" id="check-longEntry">Write 500+ Character Entry</div>
                        <div class="checklist-item" id="check-tagMaster">Use 10 Unique Tags</div>
                        <div class="checklist-item" id="check-searcher">Perform 5 Searches</div>
                        <div class="checklist-item" id="check-profileComplete">Complete All Profile Fields</div>
                        <div class="checklist-item" id="check-consistent">Post 30 Days in a Row</div>
                        <div class="checklist-item" id="check-reflective">Write 10 Entries with AI Responses</div>
                    </div>
                </div>
                <div class="score-guide">
                    <h3>Personal Quests</h3>
                    <ul>
                        <li>Post daily: +50 points per day</li>
                        <li>Write longer journal entries: +1 point per 10 characters (min. 10)</li>
                        <li>Complete profile fields: +100 points per unique field (username, motto)</li>
                        <li>Use new tags: +20 points per unique tag (up to 10 tags)</li>
                        <li>Perform a search: +10 points per search (up to 5 searches)</li>
                        <li>Write an entry over 500 characters: +200 points</li>
                        <li>Post 7 days in a row: +500 points</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="search-section section" id="search-section">
            <h2 class="section-title">Search Your Posts</h2>
            <input type="text" id="search-input" class="search-input" placeholder="Search My Posts">
            <div class="search-results" id="search-results"></div>
        </div>

        <div class="posts-section" id="posts-section">
            <div class="section">
                <h2 class="section-title">How Do You Feel?</h2>
                <div class="emoji-grid">
                    <div class="emoji-btn" data-mood="Happy">üòÅ</div>
                    <div class="emoji-btn" data-mood="Neutral">üòê</div>
                    <div class="emoji-btn" data-mood="Sad">üò¢</div>
                    <div class="emoji-btn" data-mood="Suprised">ü§Ø</div>
                    <div class="emoji-btn" data-mood="Angry">üò°</div>
                    <div class="emoji-btn" data-mood="Cool">üòé</div>
                    <div class="emoji-btn" data-mood="Tired">üò¥</div>
                    <div class="emoji-btn" data-mood="Thinking">ü§î</div>
                    <div class="emoji-btn" data-mood="Loved">ü•∞</div>
                    <div class="emoji-btn" data-mood="Calm">üòä</div>
                    <div class="emoji-btn" data-mood="Confused">üòï</div>
                    <div class="emoji-btn" data-mood="Silly">ü§™</div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">What Caused It?</h2>
                <div class="tags-container" id="tags-container">
                    <div class="tag" data-tag="Work">Work</div>
                    <div class="tag" data-tag="Boss">Boss</div>
                    <div class="tag" data-tag="Deadline">Deadline</div>
                    <div class="tag" data-tag="Money">Money</div>
                    <div class="tag" data-tag="Bills">Bills</div>
                    <div class="tag" data-tag="Family">Family</div>
                    <div class="tag" data-tag="Parents">Parents</div>
                    <div class="tag" data-tag="Kids">Kids</div>
                    <div class="tag" data-tag="Partner">Partner</div>
                    <div class="tag" data-tag="Friends">Friends</div>
                    <div class="tag" data-tag="Lonely">Lonely</div>
                    <div class="tag" data-tag="Health">Health</div>
                    <div class="tag" data-tag="Sleep">Sleep</div>
                    <div class="tag" data-tag="Diet">Diet</div>
                    <div class="tag" data-tag="Exercise">Exercise</div>
                    <div class="tag" data-tag="Future">Future</div>
                    <div class="tag" data-tag="AI Job Loss">AI Job Loss</div>
                    <div class="tag" data-tag="Career">Career</div>
                    <div class="tag" data-tag="School">School</div>
                    <div class="tag" data-tag="Exams">Exams</div>
                    <div class="tag" data-tag="News">News</div>
                    <div class="tag" data-tag="Social Media">Social Media</div>
                    <div class="tag" data-tag="Comparison">Comparison</div>
                    <div class="tag" data-tag="Overwhelmed">Overwhelmed</div>
                    <div class="tag" data-tag="Burnout">Burnout</div>
                    <div class="tag" data-tag="Traffic">Traffic</div>
                    <div class="tag" data-tag="Weather">Weather</div>
                    <div class="tag" data-tag="Noise">Noise</div>
                    <div class="tag" data-tag="Memories">Memories</div>
                    <div class="tag" data-tag="Change">Change</div>
                    <div class="tag" data-tag="Routine">Routine</div>
                    <div class="tag" data-tag="Hobbies">Hobbies</div>
                    <div class="tag" data-tag="Relationships">Relationships</div>
                    <div class="tag" data-tag="Pets">Pets</div>
                    <div class="tag" data-tag="Travel">Travel</div>
                    <div class="tag" data-tag="Technology">Technology</div>
                    <div class="tag" data-tag="Creativity">Creativity</div>
                    <div class="tag" data-tag="Finances">Finances</div>
                    <div class="tag" data-tag="Self-Esteem">Self-Esteem</div>
                    <div class="tag" data-tag="Time Management">Time Management</div>
                    <div class="tag" data-tag="Other">Other</div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Write It Out</h2>
                <div class="editor-toolbar">
                    <button class="tool-btn" data-cmd="bold">B</button>
                    <button class="tool-btn" data-cmd="italic">I</button>
                    <button class="tool-btn" data-cmd="underline">U</button>
                </div>
                <div id="journal" contenteditable="true"></div>
            </div>

            <div class="submit-section">
                <button id="submit-btn" disabled>Save & Get AI Support</button>
                <div class="thinking" id="thinking">AI is thinking...</div>
                <div class="ai-response" id="ai-response"></div>
            </div>

            <div class="history" id="history" style="display: none;">
                <div class="section">
                    <h2 class="section-title">Your Journal History</h2>
                    <div id="entries-container"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const emojis = {
            'üòÅ': 'Happy',
            'üòê': 'Neutral',
            'üò¢': 'Sad',
            'ü§Ø': 'Suprised',
            'üò°': 'Angry',
            'üòé': 'Cool',
            'üò¥': 'Tired',
            'ü§î': 'Thinking',
            'ü•∞': 'Loved',
            'üòä': 'Calm',
            'üòï': 'Confused',
            'ü§™': 'Silly'
        };

        let selectedMood = null;
        let selectedEmoji = null;
        let selectedTags = [];

        // DOM Elements
        const postsBtn = document.getElementById('posts-btn');
        const scoreBtn = document.getElementById('score-btn');
        const profileBtn = document.getElementById('profile-btn');
        const searchBtn = document.getElementById('search-btn');
        const introSection = document.getElementById('intro-section');
        const profileSection = document.getElementById('profile-section');
        const scoreSection = document.getElementById('score-section');
        const searchSection = document.getElementById('search-section');
        const postsSection = document.getElementById('posts-section');
        const missionTitle = document.getElementById('mission-title');
        const missionContent = document.getElementById('mission-content');
        const profileTitle = document.getElementById('profile-title');
        const profileEdit = document.getElementById('profile-edit');
        const aboutTitle = document.getElementById('about-title');
        const aboutContent = document.getElementById('about-content');
        const contactTitle = document.getElementById('contact-title');
        const contactForm = document.getElementById('contact-form');
        const profileIcon = document.getElementById('profile-icon');
        const profileUsername = document.getElementById('profile-username');
        const profileMotto = document.getElementById('profile-motto');
        const editIcon = document.getElementById('edit-icon');
        const editUsername = document.getElementById('edit-username');
        const editMotto = document.getElementById('edit-motto');
        const editReminder = document.getElementById('edit-reminder');
        const editGoals = document.getElementById('edit-goals');
        const saveProfile = document.getElementById('save-profile');
        const contactSubject = document.getElementById('contact-subject');
        const contactMessage = document.getElementById('contact-message');
        const sendContact = document.getElementById('send-contact');
        const totalPointsEl = document.getElementById('total-points');
        const streakEl = document.getElementById('streak');
        const streakTimerEl = document.getElementById('streak-timer');
        const badgesEl = document.getElementById('badges');
        const checklist = document.getElementById('checklist');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        const emojiBtns = document.querySelectorAll('.emoji-btn');
        const tagBtns = document.querySelectorAll('.tag');
        const journal = document.getElementById('journal');
        const submitBtn = document.getElementById('submit-btn');
        const thinking = document.getElementById('thinking');
        const aiResponse = document.getElementById('ai-response');
        const history = document.getElementById('history');
        const entriesContainer = document.getElementById('entries-container');

        // Load Profile
        function loadProfile() {
            const profile = JSON.parse(localStorage.getItem('copedocProfile') || '{}');
            profileIcon.textContent = profile.icon || 'üî•';
            profileUsername.textContent = profile.username || 'User';
            profileMotto.textContent = profile.motto || 'Personal Writing Resource';
            editIcon.value = profile.icon || 'üî•';
            editUsername.value = profile.username || 'User';
            editMotto.value = profile.motto || 'Personal Writing Resource';
            editReminder.value = profile.reminder || 'You are enough just as you are.';
            editGoals.value = profile.goals || 'Practice self-care daily.\nSet one achievable goal each week.';
        }

        // Save Profile
        saveProfile.addEventListener('click', () => {
            const profile = {
                icon: editIcon.value || 'üî•',
                username: editUsername.value || 'User',
                motto: editMotto.value || 'Personal Writing Resource',
                reminder: editReminder.value || 'You are enough just as you are.',
                goals: editGoals.value || 'Practice self-care daily.\nSet one achievable goal each week.'
            };
            localStorage.setItem('copedocProfile', JSON.stringify(profile));
            profileIcon.textContent = profile.icon;
            profileUsername.textContent = profile.username;
            profileMotto.textContent = profile.motto;

            // Award badges and points
            const pointsData = JSON.parse(localStorage.getItem('copedocPointsData') || '{}');
            if (!pointsData.badges) pointsData.badges = [];
            if (profile.username !== 'User' && !pointsData.badges.includes('username')) {
                pointsData.badges.push('username');
                pointsData.points = (pointsData.points || 0) + 100;
            }
            if (profile.motto !== 'Personal Writing Resource' && !pointsData.badges.includes('motto')) {
                pointsData.badges.push('motto');
                pointsData.points = (pointsData.points || 0) + 100;
            }
            if (profile.icon !== 'üî•' && profile.username !== 'User' && profile.motto !== 'Personal Writing Resource' && profile.reminder && profile.goals && !pointsData.badges.includes('profileComplete')) {
                pointsData.badges.push('profileComplete');
                pointsData.points = (pointsData.points || 0) + 100;
            }
            localStorage.setItem('copedocPointsData', JSON.stringify(pointsData));
            updatePointsDisplay();
            profileEdit.classList.remove('show');
        });

        // Streak Timer
        function updateStreakTimer() {
            const now = new Date();
            const nextMidnight = new Date();
            nextMidnight.setHours(24, 0, 0, 0); // Next 12 AM ET
            nextMidnight.setTime(nextMidnight.getTime() + (nextMidnight.getTimezoneOffset() * 60000) - (5 * 3600000)); // Adjust to ET
            if (now > nextMidnight) {
                nextMidnight.setDate(nextMidnight.getDate() + 1);
            }
            const timeLeftMs = nextMidnight - now;
            const hours = Math.floor(timeLeftMs / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeftMs % (1000 * 60 * 60)) / (1000 * 60));
            streakTimerEl.textContent = `${hours}HRS ${minutes}Mins`;
        }

        // Load Points and Streak
        function loadPoints() {
            const pointsData = JSON.parse(localStorage.getItem('copedocPointsData') || '{}');
            const entries = JSON.parse(localStorage.getItem('copedocEntries') || '[]');
            const today = new Date().toISOString().split('T')[0];
            const lastEntryDate = entries[0]?.timestamp?.split('T')[0] || '';
            let streak = pointsData.streak || 0;

            const now = new Date();
            const midnightToday = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);
            midnightToday.setTime(midnightToday.getTime() + (midnightToday.getTimezoneOffset() * 60000) - (5 * 3600000)); // 12 AM ET
            const lastMidnight = new Date(midnightToday);
            lastMidnight.setDate(lastMidnight.getDate() - 1);

            if (lastEntryDate === today) {
                // Posted today, streak maintained
            } else if (lastEntryDate && new Date(lastEntryDate) >= lastMidnight) {
                // Posted since last midnight, streak maintained
            } else {
                streak = 0; // No post since last midnight, reset streak
            }

            pointsData.streak = streak;
            localStorage.setItem('copedocPointsData', JSON.stringify(pointsData));
            updatePointsDisplay();
            updateStreakTimer();
            setInterval(updateStreakTimer, 60000); // Update timer every minute
        }

        function updatePointsDisplay() {
            const pointsData = JSON.parse(localStorage.getItem('copedocPointsData') || '{}');
            totalPointsEl.textContent = pointsData.points || 0;
            streakEl.textContent = pointsData.streak || 0;
            const badges = pointsData.badges || [];
            const badgeIcons = {
                'username': 'üëë Username Crown',
                'motto': 'ü•á Motto Medal',
                'daily': 'üèÜ Daily Renewal Award',
                'weekly': 'üèÖ Weekly Streak Star',
                'longEntry': 'üåü Epic Entry Spark',
                'tagMaster': '‚òÄÔ∏è Tag Sun',
                'searcher': '‚≠êÔ∏è Search Star',
                'profileComplete': 'üí´ Profile Glow',
                'consistent': 'üåù Moonlight Marathon',
                'reflective': 'üíõ Reflective Heart'
            };
            badgesEl.innerHTML = badges.length > 0
                ? badges.map(b => `<div class="badge ${b}">${badgeIcons[b]}</div>`).join('')
                : 'None';

            // Update checklist
            checklist.querySelector('#check-username').classList.toggle('completed', badges.includes('username'));
            checklist.querySelector('#check-motto').classList.toggle('completed', badges.includes('motto'));
            checklist.querySelector('#check-daily').classList.toggle('completed', badges.includes('daily'));
            checklist.querySelector('#check-weekly').classList.toggle('completed', badges.includes('weekly'));
            checklist.querySelector('#check-longEntry').classList.toggle('completed', badges.includes('longEntry'));
            checklist.querySelector('#check-tagMaster').classList.toggle('completed', badges.includes('tagMaster'));
            checklist.querySelector('#check-searcher').classList.toggle('completed', badges.includes('searcher'));
            checklist.querySelector('#check-profileComplete').classList.toggle('completed', badges.includes('profileComplete'));
            checklist.querySelector('#check-consistent').classList.toggle('completed', badges.includes('consistent'));
            checklist.querySelector('#check-reflective').classList.toggle('completed', badges.includes('reflective'));
        }

        // Search Functionality
        searchInput.addEventListener('input', () => {
            const query = searchInput.value.trim().toLowerCase();
            const entries = JSON.parse(localStorage.getItem('copedocEntries') || '[]');
            searchResults.innerHTML = '';

            if (query === '') {
                searchResults.innerHTML = '<div class="no-results">Enter a keyword to search your posts.</div>';
                return;
            }

            const filteredEntries = entries.filter(entry => {
                const text = entry.text.replace(/<[^>]*>/g, '').toLowerCase();
                const mood = entry.mood.toLowerCase();
                const tags = entry.tags.map(tag => tag.toLowerCase());
                return mood.includes(query) || tags.some(tag => tag.includes(query)) || text.includes(query);
            });

            if (filteredEntries.length === 0) {
                searchResults.innerHTML = '<div class="no-results">No posts match your search.</div>';
                return;
            }

            filteredEntries.forEach(entry => {
                const card = document.createElement('div');
                card.className = 'entry-card';
                card.innerHTML = `
                    <div class="entry-header">
                        <span class="entry-emoji">${entry.emoji}</span>
                        <span class="entry-mood">${entry.mood}</span>
                    </div>
                    <div class="entry-preview">${entry.text.replace(/<[^>]*>/g, '').substring(0, 60)}...</div>
                    <div class="entry-tags">
                        ${entry.tags.map(tag => `<span class="entry-tag">${tag}</span>`).join('')}
                    </div>
                    <div class="entry-time">${new Date(entry.timestamp).toLocaleString()}</div>
                    <div class="entry-full">
                        <div class="entry-text">${entry.text}</div>
                        <div class="ai-full">${entry.aiResponse}</div>
                    </div>
                `;

                card.addEventListener('click', () => {
                    const full = card.querySelector('.entry-full');
                    full.classList.toggle('show');
                });

                searchResults.appendChild(card);
            });

            // Award search points and badge
            const pointsData = JSON.parse(localStorage.getItem('copedocPointsData') || '{}');
            pointsData.searchCount = (pointsData.searchCount || 0) + 1;
            if (pointsData.searchCount <= 5) {
                pointsData.points = (pointsData.points || 0) + 10;
            }
            if (pointsData.searchCount >= 5 && !pointsData.badges.includes('searcher')) {
                pointsData.badges.push('searcher');
            }
            localStorage.setItem('copedocPointsData', JSON.stringify(pointsData));
            updatePointsDisplay();
        });

        // Navigation
        postsBtn.addEventListener('click', () => {
            postsBtn.classList.add('active');
            scoreBtn.classList.remove('active');
            profileBtn.classList.remove('active');
            searchBtn.classList.remove('active');
            introSection.classList.add('show');
            profileSection.classList.remove('show');
            scoreSection.classList.remove('show');
            searchSection.classList.remove('show');
            postsSection.style.display = 'block';
        });

        scoreBtn.addEventListener('click', () => {
            scoreBtn.classList.add('active');
            postsBtn.classList.remove('active');
            profileBtn.classList.remove('active');
            searchBtn.classList.remove('active');
            introSection.classList.remove('show');
            scoreSection.classList.add('show');
            profileSection.classList.remove('show');
            searchSection.classList.remove('show');
            postsSection.style.display = 'none';
        });

        profileBtn.addEventListener('click', () => {
            profileBtn.classList.add('active');
            postsBtn.classList.remove('active');
            scoreBtn.classList.remove('active');
            searchBtn.classList.remove('active');
            introSection.classList.remove('show');
            profileSection.classList.add('show');
            scoreSection.classList.remove('show');
            searchSection.classList.remove('show');
            postsSection.style.display = 'none';
        });

        searchBtn.addEventListener('click', () => {
            searchBtn.classList.add('active');
            postsBtn.classList.remove('active');
            scoreBtn.classList.remove('active');
            profileBtn.classList.remove('active');
            introSection.classList.remove('show');
            searchSection.classList.add('show');
            profileSection.classList.remove('show');
            scoreSection.classList.remove('show');
            postsSection.style.display = 'none';
            searchInput.value = '';
            searchResults.innerHTML = '<div class="no-results">Enter a keyword to search your posts.</div>';
        });

        // Collapsible Sections
        missionTitle.addEventListener('click', () => {
            missionContent.classList.toggle('show');
        });

        profileTitle.addEventListener('click', () => {
            profileEdit.classList.toggle('show');
        });

        aboutTitle.addEventListener('click', () => {
            aboutContent.classList.toggle('show');
        });

        contactTitle.addEventListener('click', () => {
            contactForm.classList.toggle('show');
        });

        // Contact Form Submission
        sendContact.addEventListener('click', () => {
            const subject = contactSubject.value.trim();
            const message = contactMessage.value.trim();
            if (subject && message) {
                const mailtoLink = `mailto:justwiselove@icloud.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(message)}`;
                window.location.href = mailtoLink;
                contactSubject.value = '';
                contactMessage.value = '';
                contactForm.classList.remove('show');
            } else {
                alert('Please fill in both the Subject and Tell Us More fields.');
            }
        });

        // Emoji selection
        emojiBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                emojiBtns.forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedEmoji = btn.textContent.trim();
                selectedMood = btn.dataset.mood;
                checkSubmit();
            });
        });

        // Tag selection
        tagBtns.forEach(tag => {
            tag.addEventListener('click', () => {
                tag.classList.toggle('selected');
                const tagText = tag.dataset.tag;
                if (tag.classList.contains('selected')) {
                    selectedTags.push(tagText);
                } else {
                    selectedTags = selectedTags.filter(t => t !== tagText);
                }
                checkSubmit();
            });
        });

        // Rich text toolbar
        document.querySelectorAll('.tool-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const cmd = btn.dataset.cmd;
                document.execCommand(cmd, false, null);
                btn.classList.toggle('active', document.queryCommandState(cmd));
            });
        });

        // Journal input
        journal.addEventListener('input', () => {
            checkSubmit();
        });

        // Check if submit should be enabled
        function checkSubmit() {
            const text = journal.innerText.trim();
            submitBtn.disabled = !(selectedMood && text.length > 0);
        }

        // Submit
        submitBtn.addEventListener('click', async () => {
            const text = journal.innerHTML.trim();
            const plainText = journal.innerText.trim();

            if (!selectedMood || plainText.length === 0) return;

            thinking.style.display = 'block';
            aiResponse.style.display = 'none';
            submitBtn.disabled = true;

            let aiText = "I hear you. Try taking 3 slow breaths. You're not alone.";

            try {
                const response = await fetch('https://router.huggingface.co/hf-inference/models/mistralai/Mistral-7B-Instruct-v0.1', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer hf_YOU_NEED_TO_ADD_YOUR_OWN_KEY',
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        inputs: `You are a kind, empathetic friend. Respond in 2-3 short lines:\n1. Acknowledge the feeling\n2. One tiny kind action\n3. A hopeful note\nUser feels: ${selectedMood}. They wrote: "${plainText.substring(0, 500)}"`,
                        parameters: { max_new_tokens: 100, temperature: 0.7 }
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    aiText = data[0]?.generated_text?.split('User feels:')[1] || aiText;
                    aiText = aiText.trim().split('\n').slice(0, 3).join('<br>');
                }
            } catch (e) {
                console.log("API failed, using fallback");
            }

            thinking.style.display = 'none';
            aiResponse.innerHTML = aiText;
            aiResponse.style.display = 'block';

            // Save entry
            const entry = {
                emoji: selectedEmoji,
                mood: selectedMood,
                tags: [...selectedTags],
                text: text,
                aiResponse: aiText,
                timestamp: new Date().toISOString()
            };

            const entries = JSON.parse(localStorage.getItem('copedocEntries') || '[]');
            entries.unshift(entry);
            localStorage.setItem('copedocEntries', JSON.stringify(entries));

            // Update points, streak, and badges
            const pointsData = JSON.parse(localStorage.getItem('copedocPointsData') || '{}');
            pointsData.points = (pointsData.points || 0) + Math.max(10, Math.floor(plainText.length / 10));
            if (!pointsData.badges) pointsData.badges = [];
            if (!pointsData.uniqueTags) pointsData.uniqueTags = [];

            // Tag points and badge
            selectedTags.forEach(tag => {
                if (!pointsData.uniqueTags.includes(tag) && pointsData.uniqueTags.length < 10) {
                    pointsData.uniqueTags.push(tag);
                    pointsData.points += 20;
                }
            });
            if (pointsData.uniqueTags.length >= 10 && !pointsData.badges.includes('tagMaster')) {
                pointsData.badges.push('tagMaster');
            }

            // Long entry badge
            if (plainText.length >= 500 && !pointsData.badges.includes('longEntry')) {
                pointsData.badges.push('longEntry');
                pointsData.points += 200;
            }

            // Streak and badges
            const today = new Date().toISOString().split('T')[0];
            pointsData.streak = (pointsData.streak || 0) + 1;
            pointsData.points += 50; // Daily bonus
            if (!pointsData.badges.includes('daily')) {
                pointsData.badges.push('daily');
            }
            if (pointsData.streak >= 7 && !pointsData.badges.includes('weekly')) {
                pointsData.badges.push('weekly');
                pointsData.points += 500;
            }
            if (pointsData.streak >= 30 && !pointsData.badges.includes('consistent')) {
                pointsData.badges.push('consistent');
            }

            // Reflective badge
            const aiResponseCount = entries.filter(e => e.aiResponse).length;
            if (aiResponseCount >= 10 && !pointsData.badges.includes('reflective')) {
                pointsData.badges.push('reflective');
            }

            localStorage.setItem('copedocPointsData', JSON.stringify(pointsData));
            updatePointsDisplay();
            updateStreakTimer();

            loadHistory();
            resetForm();
            history.style.display = 'block';
        });

        function resetForm() {
            emojiBtns.forEach(b => b.classList.remove('selected'));
            tagBtns.forEach(t => t.classList.remove('selected'));
            journal.innerHTML = '';
            selectedMood = null;
            selectedEmoji = null;
            selectedTags = [];
            checkSubmit();
        }

        function loadHistory() {
            const entries = JSON.parse(localStorage.getItem('copedocEntries') || '[]');
            entriesContainer.innerHTML = '';

            entries.forEach((entry, index) => {
                const card = document.createElement('div');
                card.className = 'entry-card';
                card.innerHTML = `
                    <div class="entry-header">
                        <span class="entry-emoji">${entry.emoji}</span>
                        <span class="entry-mood">${entry.mood}</span>
                    </div>
                    <div class="entry-preview">${entry.text.replace(/<[^>]*>/g, '').substring(0, 60)}...</div>
                    <div class="entry-tags">
                        ${entry.tags.map(tag => `<span class="entry-tag">${tag}</span>`).join('')}
                    </div>
                    <div class="entry-time">${new Date(entry.timestamp).toLocaleString()}</div>
                    <div class="entry-full">
                        <div class="entry-text">${entry.text}</div>
                        <div class="ai-full">${entry.aiResponse}</div>
                    </div>
                `;

                card.addEventListener('click', () => {
                    const full = card.querySelector('.entry-full');
                    full.classList.toggle('show');
                });

                entriesContainer.appendChild(card);
            });
        }

        // Initialize
        window.addEventListener('load', () => {
            loadProfile();
            loadPoints();
            const entries = JSON.parse(localStorage.getItem('copedocEntries') || '[]');
            if (entries.length > 0) {
                loadHistory();
                history.style.display = 'block';
            }
        });
    </script>
</body>
</html>
